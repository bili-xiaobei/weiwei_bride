# 1. 薇薇新娘的API接口文档

## 1.1. API   V1 接口说明

+ 接口基准地址： 
+ 前端未开启跨域 ，前端通过代理服务器已开启跨域
+ API  V1 认证统一使用 Token 认证（用户名唯一，通过 MD5 加密，来进行生成 Token）
+ 需要授权的 API ，必须进行登录 ，登录接口会返回 Token 值，使用 SessionStorage添加到浏览器
+ 数据返回格式统一使用 JSON

### 1.1.1.  支持的请求方法

+ GET（SELECT）：从服务器取出资源（一项或多项）。
+ POST（CREATE）：在服务器新建一个资源。
+ PUT（UPDATE）：在服务器更新资源（客户端提供改变后的完整资源）。
+ PATCH（UPDATE）：在服务器更新资源（客户端提供改变的属性）。
+ DELETE（DELETE）：从服务器删除资源。

| 状态码 | 含义         | 说明                                 |
| ------ | ------------ | ------------------------------------ |
| 200    | OK           | 请求成功                             |
| 201    | CREATED      | 创建成功                             |
| 204    | DELETED      | 删除成功                             |
| 400    | BAD REQUEST  | 请求的地址不存在或者包含不支持的参数 |
| 401    | UNAUTHORIZED | 未授权                               |
| 404    | NOT FOUND    | 请求的资源不存在                     |

## 1.2.  登录

### 1.2.1.  登录验证接口

+ 请求路径： /user/login

+ 请求方法： post

+ 请求参数

  | 参数名   | 参数说明 | 备注     |
  | -------- | -------- | -------- |
  | username | 用户名   | 不能为空 |
  | password | 密码     | 不能为空 |

+ 响应参数

  | 参数名   | 参数说明  | 备注                  |
  | -------- | --------- | --------------------- |
  | uid      | 用户ID    |                       |
  | username | 用户名    |                       |
  | token    | Token令牌 | 通过 MD5 模块进行加密 |
  | sex      | 性别      |                       |
  | nickname | 用户昵称  |                       |
  | qq       | QQ        |                       |
  | avatar   | 用户头像  | 网图                  |

+ 响应数据

  ````JSON
  {
      "data":[{
              "username":"小北",
           	"password":"25f9e794323b453885f5181f1b624d0b",
              "token":"f1a473ca3ac786471ce541a9034695dc",
              "sex":1,
              "phone":"14586598658",
              "nickname":"null",
              "qq":"566698565",
              "avatar":"http://m.qpic.cn/psc?/>.."
          }],
      "meta":{
          "code":200,
          "msg":"登录成功"
      }
  }
  ````

## 1.3  用户管理

### 1.3.1.  用户注册

+ 请求路径：/user/register

+ 请求方法：post

+ 请求参数

  | 参数名   | 参数说明 | 备注     |
  | -------- | -------- | -------- |
  | username | 用户名称 | 不能为空 |
  | password | 用户密码 | 不能为空 |
  | sex      | 性别     | 可以为空 |
  | phone    | 电话     | 可以为空 |
  | nickname | 昵称     | 可以为空 |
  | qq       | QQ       | 可以为空 |

+ 响应数据

  ````JSON
  {
      code: 200,
      msg: '添加用户成功'
  }
  ````


## 1.4.   banner

### 1.4.1.  首页 banner

+ 请求路径：/index/banner
+ 请求方法：get
+ 请求参数：无

+ 响应参数

  | 参数名  | 参数说明   | 备注 |
  | ------- | ---------- | ---- |
  | h_photo | 轮播图图片 |      |

+ 响应数据

  ````JSON
  {
      "data": [{
          "h_photo": "http://m.qpic.cn/psc?/..."
      }, {
          "h_photo": "http://m.qpic.cn/psc?/..."
      }, {
          "h_photo": "http://m.qpic.cn/psc?/..."
      }, {
          "h_photo": "http://m.qpic.cn/psc?/..."
      }, {
          "h_photo": "http://m.qpic.cn/psc?/..."
      }],
      "meta": {
          "code": 200,
          "msg": "获取图片成功"
      }
  }
  ````

### 1.4.2.  通过 banner 获取商品 id

+ 请求路径：/index/banner

+ 请求方法：get

+ 请求参数：

  | 参数名 | 参数类型 | 备注            |
  | ------ | -------- | --------------- |
  | id     | hid 值   | banner 的 index |

+ 响应参数：

  | 参数名     | 参数类型 | 备注             |
  | ---------- | -------- | ---------------- |
  | h_goods_id |          | 对应商品的 id 值 |









